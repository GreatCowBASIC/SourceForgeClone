'   FILE:    LCDCURSOR_TEST.gcb
'   DATE:    21/01/15
'   VERSION: 1.0A
'   AUTHOR:  William Roth

'    Demo of LCD display.
'
'    Install GCB - you are recommended to use GCB@SYN from the Great Cow Basic website.
'
'    This example is compliant with the HD44780U datasheet

'    This code is free software; you can redistribute it and/or
'    modify it under the terms of the GNU Lesser General Public
'    License as published by the Free Software Foundation; either
'    version 2.1 of the License, or (at your option) any later version.

'    This code is distributed in the hope that it will be useful,
'    but WITHOUT ANY WARRANTY; without even the implied warranty of
'    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
'    Lesser General Public License for more details.

'    If you require a copy of the GNU Lesser General Public
'    License along with this code; please write to the Free Software
'    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA


'    1.0a - William Roth 21/01/15

;Set chip model required:
  #chip mega328p, 16
  ;Setup LCD Parameters
  #define LCD_IO 4
  #define LCD_NO_RW
  #define LCD_Speed MEDIUM 'FAST IS OK ON ARDUINO UNO R3

  'Change as necessary
  #define LCD_RS PortC.0
  #define LCD_Enable PortC.1
  #define LCD_DB4 PortC.2
  #define LCD_DB5 PortC.3
  #define LCD_DB6 PortC.4
  #define LCD_DB7 PortC.5


'  #chip 16f877a, 8
'  ;Setup LCD Parameters
'  #define LCD_IO 4
'  #define LCD_NO_RW
'  #define LCD_Speed fast 'FAST IS OK ON 16f877a
'
'  ;Change as necessary
'  #define LCD_RS PortB.2
'  #define LCD_Enable PortB.3
'  #define LCD_DB4 PortB.4
'  #define LCD_DB5 PortB.5
'  #define LCD_DB6 PortB.6
'  #define LCD_DB7 PortB.7


    Do Forever
        CLS
        WAIT 3 s
        PRINT "START TEST"
        locate 1,0
        PRINT "DISPLAY ON"
        wait 3 s

        CLS
        Locate 0,0
        Print "Cursor ON"
        Locate 1,0
        LCDcursor CursorOn
        wait 3 S

        CLS
        LCDcursor CursorOFF
        locate 0,0
        Print "Cursor OFF"
        wait 3 s

        CLS
        Locate 0,0
        Print "FLASH ON"
        Locate 1,0
        LCDcursor FLASHON
        wait 3 s

        CLS
        locate 0,0
        Print "FLASH OFF"
        LCDCURSOR FLASHOFF
        wait 3 sec

        Locate 0,0
        Print "CURSR & FLSH ON"
        locate 1,0
        LCDCURSOR CURSORON
        LCDCURSOR FLASHON
        Wait 3 sec

        Locate 0,0
        Print "CURSR & FLSH OFF"
        locate 1,0
        LCDCURSOR CursorOFF
        LCDCURSOR FLASHOFF
        Wait 3 sec

        CLS
        Locate 0,4
        PRINT "Flashing"
        Locate 1,4
        Print "Display"
        wait 500 ms

        repeat 10
            LCDCURSOR LCDOFF
            wait 500 ms
            LCDCURSOR LCDON
            wait 500 ms
        end repeat

        CLS
        Locate 0,0
        Print "DISPLAY OFF"
        Locate 1,0
        Print "FOR 5 SEC"
        Wait 2 SEC
        LCDCURSOR LCDOFF
        WAIT 5 s

        CLS
        Locate 0,0
        LCDCURSOR LCDON
        Print "END TEST"
        wait 3 s

    loop

