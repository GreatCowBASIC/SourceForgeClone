<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0075)https://web.archive.org/web/20130602003223/http://www.rentron.com/myke1.htm -->
<HTML><HEAD><META content="IE=5.0000" http-equiv="X-UA-Compatible">
 
<SCRIPT src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/analytics.js" type="text/javascript"></SCRIPT>
 
<META http-equiv="Content-Type" content="text/html; charset=utf-8"><LINK href="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/banner-styles.css" 
rel="stylesheet" type="text/css"> <TITLE>2-Wire PIC LCD Interface by Myke 
Predko</TITLE> 
<META name="description" content="Myke Predko's 2-wire LCD interface using the microchip pic microcontroller"> 
<META name="keywords" content="pic projects,pic,8051,microcontroller projects,Microcontrollers,Intel 8051,serial port,Microchip Pic,microcontroller,&#10;electronic projects,embedded systems,control systems,technical books,assembly language,programming intels 8051,&#10;serial communications,rs232,Electronics Projects,Books,Home Automation,Computer Software,Assemblers,applications Programming,&#10;Embedded Systems Design,8052,AT89C2051,robotics applications,Circuit Examples,Robots,micro code"> 
<META name="Microsoft Theme" content="rings2 111"> 
<META name="Microsoft Border" content="none"> 
<META name="GENERATOR" content="MSHTML 10.00.9200.16686"></HEAD> 
<BODY background="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/spiral.gif" 
text="#000000" leftmargin="50" bgcolor="#cccccc" link="#0000ff" alink="#0000ff" 
vlink="#0000ff"><!-- BEGIN WAYBACK TOOLBAR INSERT --> 
<SCRIPT> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app0.us.archive.org";}; </SCRIPT>
 
<SCRIPT src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/disclaim-element.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/graph-calc.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/jquery.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1420070399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/www.rentron.com\/myke1.htm";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 475;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "2";
var displayMonth = "Jun";
var displayYear = "2013";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</SCRIPT>
 
<STYLE type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</STYLE>
 
<DIV class="__wb_banner_div" id="wm-ipp" lang="en" style="padding: 0px 5px; display: none; position: relative; min-height: 70px; min-width: 800px;">
<DIV class="__wb_banner_div" id="wm-ipp-inside" style='border-width: medium 5px 5px; border-style: none solid solid; border-color: currentColor rgb(0, 0, 0) rgb(0, 0, 0); margin: 0px !important; padding: 0px !important; width: 97%; text-align: center; font-family: "Lucida Grande","Arial",sans-serif !important; font-size: 11px !important; position: fixed; min-width: 780px; box-shadow: 1px 1px 3px #333; background-image: url("/static/images/toolbar/wm_tb_bk_trns.png"); -moz-box-shadow: 1px 1px 3px #333; -webkit-box-shadow: 1px 1px 3px #333;'>
<TABLE style="margin: 0px; padding: 0px; width: 100%; border-collapse: collapse;">
  <TBODY>
  <TR>
    <TD style="padding: 10px; vertical-align: top; min-width: 110px;"><A 
      title="Wayback Machine home page" style="border: currentColor; background-color: transparent;" 
      href="https://web.archive.org/web/"><IMG width="110" height="39" alt="Wayback Machine" 
      src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/wayback-toolbar-logo.png" 
      border="0"></A>    </TD>
    <TD style="padding: 0px !important; width: 100%; text-align: center; vertical-align: top;">
      <TABLE style="margin: 0px auto; padding: 0px; width: 570px; border-collapse: collapse;">
        <TBODY>
        <TR>
          <TD style="padding: 3px 0px;" colspan="2">
            <FORM name="wmtb" id="wmtb" style="margin: 0px !important; padding: 0px !important;" 
            action="/web/form-submit.jsp" method="get" target="_top"><INPUT 
            name="url" id="wmtbURL" style='width: 400px; font-family: "Lucida Grande","Arial",sans-serif; font-size: 11px;' 
            onfocus="javascript:this.focus();this.select();" type="text" value="http://www.rentron.com/myke1.htm"><INPUT 
            name="type" type="hidden" value="replay"><INPUT name="date" type="hidden" 
            value="20130602003223"><INPUT style='width: inherit !important; font-family: "Lucida Grande","Arial",sans-serif; font-size: 11px; margin-left: 5px;' type="submit" value="Go"><SPAN 
            id="wm_tb_options" style="display: block;"></SPAN></FORM></TD>
          <TD style="padding: 5px 0px 0px !important; vertical-align: bottom;" 
          rowspan="2">
            <TABLE style='width: 110px; color: rgb(153, 153, 170); font-family: "Helvetica","Lucida Grande","Arial",sans-serif; border-collapse: collapse;'>
              <TBODY><!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->            
              <TR style="width: 110px; height: 16px; font-size: 10px !important;">
                <TD nowrap="nowrap" style="text-align: right; text-transform: uppercase; overflow: visible; padding-right: 9px; font-size: 11px !important; font-weight: bold; white-space: nowrap;"><A 
                  title="9 Mar 2013" style="border: currentColor; color: rgb(51, 51, 255); font-weight: bold; text-decoration: none; background-color: transparent;" 
                  href="https://web.archive.org/web/20130309005652/http://www.rentron.com/Myke1.htm"><STRONG>MAR</STRONG></A>
                  		                                </TD>
                <TD title="You are here: 0:32:23 Jun 2, 2013" id="displayMonthEl" 
                style="background: rgb(0, 0, 0); width: 34px; height: 15px; text-align: center; color: rgb(255, 255, 0); text-transform: uppercase; padding-top: 1px; font-size: 11px !important; font-weight: bold;">JUN</TD>
                <TD nowrap="nowrap" style="text-transform: uppercase; overflow: visible; padding-left: 9px; font-size: 11px !important; font-weight: bold; white-space: nowrap;"><A 
                  title="6 Aug 2013" style="border: currentColor; color: rgb(51, 51, 255); font-weight: bold; text-decoration: none; background-color: transparent;" 
                  href="https://web.archive.org/web/20130806133232/http://www.rentron.com/Myke1.htm"><STRONG>AUG</STRONG></A>
                  		                                </TD></TR><!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR --> 
                         
              <TR>
                <TD nowrap="nowrap" style="text-align: right !important; overflow: visible; padding-right: 9px; vertical-align: middle !important; white-space: nowrap;"><A 
                  title="7:01:54 May 14, 2013" style="border: currentColor; background-color: transparent;" 
                  href="https://web.archive.org/web/20130514070154/http://www.rentron.com/Myke1.htm"><IMG 
                  width="14" height="16" alt="Previous capture" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/wm_tb_prv_on.png" 
                  border="0"></A>		                                </TD>
                <TD title="You are here: 0:32:23 Jun 2, 2013" id="displayDayEl" 
                style="background: rgb(0, 0, 0); padding: 2px 0px 0px; width: 34px; height: 24px; text-align: center; color: rgb(255, 255, 0); font-size: 24px; font-weight: bold;">2</TD>
                <TD nowrap="nowrap" style="text-align: left !important; overflow: visible; padding-left: 9px; vertical-align: middle !important; white-space: nowrap;"><A 
                  title="13:32:32 Aug 6, 2013" style="border: currentColor; background-color: transparent;" 
                  href="https://web.archive.org/web/20130806133232/http://www.rentron.com/Myke1.htm"><IMG 
                  width="14" height="16" alt="Next capture" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/wm_tb_nxt_on.png" 
                  border="0"></A>		                			     </TD></TR><!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR --> 
                         
              <TR 
style="width: 110px; height: 13px; font-size: 9px !important;">
                <TD nowrap="nowrap" style="text-align: right; overflow: visible; padding-right: 9px; font-size: 11px !important; font-weight: bold; white-space: nowrap;"><A 
                  title="18 May 2012" style="border: currentColor; color: rgb(51, 51, 255); font-weight: bold; text-decoration: none; background-color: transparent;" 
                  href="https://web.archive.org/web/20120518014018/http://www.rentron.com/Myke1.htm"><STRONG>2012</STRONG></A>
                  		                                </TD>
                <TD title="You are here: 0:32:23 Jun 2, 2013" id="displayYearEl" 
                style="background: rgb(0, 0, 0); width: 34px; height: 13px; text-align: center; color: rgb(255, 255, 0); padding-top: 1px; font-size: 11px !important; font-weight: bold;">2013</TD>
                <TD nowrap="nowrap" style="overflow: visible; padding-left: 9px; font-size: 11px !important; font-weight: bold; white-space: nowrap;"> 
                                                       2014                      
                   				 </TD></TR></TBODY></TABLE></TD></TR>
        <TR>
          <TD style="padding: 0px !important; vertical-align: middle;"><A 
            title="See a list of every capture for this URL" style="border: currentColor; color: rgb(51, 51, 255); font-size: 11px; font-weight: bold; background-color: transparent;" 
            href="https://web.archive.org/web/20130602003223*/http://www.rentron.com/myke1.htm"><STRONG>192 
            captures</STRONG></A>            
            <DIV title="Timespan for captures of this URL" class="__wb_banner_div" 
            style="margin: 0px !important; padding: 2px 0px 0px !important; color: rgb(102, 102, 102); font-size: 9px; white-space: nowrap;">7 
            Oct 99 - 24 Oct 13</DIV></TD>
          <TD style="padding: 0px !important;"><A id="wm-graph-anchor" style="width: 475px; height: 27px; white-space: nowrap; position: relative;" 
            href="https://web.archive.org/web/20130602003223/http://www.rentron.com/">
            <DIV title="Explore captures for this URL" class="__wb_banner_div" 
            id="wm-ipp-sparkline" style="width: 475px; height: 27px; border-right-color: rgb(204, 204, 204); border-right-width: 1px; border-right-style: solid; white-space: nowrap; position: relative; cursor: pointer; background-color: rgb(255, 255, 255);"><IMG 
            width="475" height="27" id="sparklineImgId" style="left: 0px; top: 0px; position: absolute; z-index: 9012;" 
            onmouseover="showTrackers('inline');" onmouseout="showTrackers('none');" 
            onmousemove="trackMouseMove(event,this)" alt="sparklines" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/graph.png" 
            border="0">			 <IMG width="25" height="27" id="wbMouseTrackYearImg" 
            style="display: none; position: absolute; z-index: 9010;" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/transp-yellow-pixel.png" 
            border="0">			 <IMG width="2" height="27" id="wbMouseTrackMonthImg" 
            style="display: none; position: absolute; z-index: 9011;" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/transp-red-pixel.png" 
            border="0">        </DIV></A>        </TD></TR></TBODY></TABLE></TD>
    <TD style="padding: 5px; width: 65px; text-align: right; font-size: 11px !important;"><A 
      title="Close the toolbar" style='background: url("/static/images/toolbar/wm_tb_close.png") no-repeat 100% 0px; border: currentColor; color: rgb(51, 51, 255); padding-right: 18px; font-family: "Lucida Grande","Arial",sans-serif; margin-bottom: 23px; display: block;' 
      onclick="document.getElementById('wm-ipp').style.display='none';" href="javascript:;">Close</A><A 
      title="Get some help using the Wayback Machine" style='background: url("/static/images/toolbar/wm_tb_help.png") no-repeat 100% 0px; border: currentColor; color: rgb(51, 51, 255); padding-right: 18px; font-family: "Lucida Grande","Arial",sans-serif; display: block;' 
      href="http://faq.web.archive.org/">Help</A></TD></TR></TBODY></TABLE></DIV></DIV>
<SCRIPT type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</SCRIPT>
 <!-- END WAYBACK TOOLBAR INSERT --> <!--mstheme--><FONT face="Verdana"> </FONT>
<DIV align="left"><FONT face="Verdana"> <!--mstheme--></FONT>
<TABLE width="100%" background="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/spider.gif" 
border="0">   
  <TBODY>
  <TR>
    <TD width="100%"><!--mstheme--><FONT face="Verdana">
      <P align="center"><MAP name="FPMap3">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/BasicStamp.htm" 
        shape="rect" coords="7, 2, 95, 21">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/listinfoadd/signup.htm" 
        shape="rect" coords="7, 27, 94, 47">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/PicBasic2.htm" 
        shape="rect" coords="106, 2, 196, 21">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/Robo-Ware.htm" 
        shape="rect" coords="108, 28, 195, 48">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/8051.htm" 
        shape="rect" coords="206, 3, 294, 22">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/PicBasic/Rentron.htm" 
        shape="rect" coords="206, 29, 294, 48">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/remote.htm" 
        shape="rect" coords="303, 3, 397, 23">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/index.html" 
        shape="rect" coords="303, 27, 395, 47">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/pic.htm" 
        shape="rect" coords="405, 2, 494, 23">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/books.htm" 
        shape="rect" coords="407, 27, 492, 48"></MAP>         <IMG width="500" 
      height="49" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/rentron-buttons.gif" 
      border="0" usemap="#FPMap3"></P>
      <P align="center"><STRONG><FONT face="Arial" size="2"><BIG>Build    your 
      own "2-Wire</BIG> </FONT><FONT face="Arial" size="3">LCD Interface" using  
        the</FONT><FONT face="Arial" size="2"> PIC16C84 </FONT><FONT face="Arial" 
      size="3">microcontroller</FONT></STRONG></P><FONT face="Arial" size="2">
      <P align="center"><STRONG>A Special "Thanks" to Myke    Predko for 
      submitting the following project/article.</STRONG></P>
      <P>About the Author</P></FONT>
      <P><FONT face="Arial" size="2">Myke Predko is the author of "</FONT><A 
      href="https://web.archive.org/web/20130602003223/http://www.amazon.com/exec/obidos/ASIN/007913646X/reynoldselectron"><FONT 
      face="Arial" size="2">Programming and Customizing the PIC 
      Microcontroller</FONT></A><FONT face="Arial" size="2">", the "</FONT><A 
      href="https://web.archive.org/web/20130602003223/http://www.amazon.com/exec/obidos/ASIN/0079137164/reynoldselectron"><FONT 
      face="Arial" size="2">Handbook of Microcontrollers</FONT></A><FONT face="Arial" 
      size="2">"    and "</FONT><A href="https://web.archive.org/web/20130602003223/http://www.amazon.com/exec/obidos/ASIN/0071341951/reynoldselectron"><FONT 
      face="Arial" size="2">Programming and Customizing the 8051 
      Microcontroller</FONT></A><FONT face="Arial" size="2">" as well as the 
      soon to be released "PC PhD" and    "PC Interfacing Pocketbook" which are 
      all published by McGraw-Hill. </FONT></P>
      <P><FONT face="Arial" size="2">As well as writing books on electronics and 
      programming,    Myke works for Celestica, Inc. in the area of New Products 
      Test Engineering. His wife,    Patience, and he have three children, Joel, 
      Elliot and Marya.  </FONT></P>
      <P align="center"><FONT face="Arial" size="2"><STRONG>2-Wire LCD Interface 
      for the    PICMicro</STRONG></FONT></P>
      <P><FONT face="Arial" size="2">Alphanumeric LCD displays have become very 
      popular for    microcontroller applications because they can add a lot to 
      a project in a variety of    different ways. A text message giving the 
      user instructions as well as feedback can make    the application seem 
      much more "professional" and easy to use. I like to use    LCD's to help 
      debug applications, with breakpoints set to display variable and I/O    
      conditions and they are a lot cheaper than using a microcontroller 
      emulator. To top it    off, surplus LCD's can be found for a dollar or 
      less. </FONT></P><FONT face="Arial" size="2">
      <P>The most popular LCD interface is the Hitachi 44780 based LCD 
      controller chip which    provides a fairly easy to work with interface and 
      low power consumption. The major    drawback of the interface is the 
      perceived complexity of working with the interface. This    perception has 
      been promoted by the lack of good (i.e. well translated) and accurate    
      datasheets and web site information. </P>
      <P>This has been largely mitigated by the availability of a new data sheet 
      from Hitachi;    (available at <A href="https://web.archive.org/web/20130602003223/http://semiconductor.hitachi.com/products/pdf/99rtd006d2.pdf">here</A> 
         and user sites (such as my own at <A href="https://web.archive.org/web/20130602003223/http://www.myke.com/lcd.htm">LCD 
      Page</A>    with accurate information and example code that can be 
      downloaded. </P></FONT>
      <P><FONT face="Arial" size="2">Often the biggest stumbling block to using  
        alphanumeric LCD displays is the number of pins required to control 
      them. For the Hitachi    44780, twelve pins are required from the 
      microcontroller to interface to the display for    it to work in eight bit 
      mode. For many smaller microcontrollers, twelve pins are not    available 
      or will be better served in the application. To be fair, this can be 
      reduced to    six by using the 44780's "Four Bit" mode, but this can still 
      be more than    acceptable for most applications. </FONT></P><FONT face="Arial" 
      size="2">
      <P>In this case, different approaches have to be made. The most popular 
      one is to use    synchronous serial data (requiring a "clock" and "data") 
      pin to load a    serial-in/parallel-out shift register with the data bits 
      and "R/S" pin    information. The "E" Strobe Pin is driven directly by the 
      microcontroller to    latch in the data from the LCD. This is shown in the 
      diagram below: </P>
      <P align="center"><IMG width="399" height="299" style="border: 1px rgb(0, 0, 0);" 
      alt="Shift Register LCD Data Write" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/lcd3.gif"><BR></P>
      <P>The project presented in this article is an enhancement of this 
      circuit. By combining    the shift register's "Data Line" with the most 
      significant bit of the shift    register, the "E" Strobe can be 
      implemented without resorting to a separate line    for the function. The 
      1 K resistor and diode act as an "AND" gate. A schematic    of the circuit 
      is shown below. </P>
      <P align="center"><IMG width="473" height="235" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/2wirelcd.jpg" 
      border="0"></P>
      <P>The operation of the resistor/diode "AND" gate may not be immediately   
       obvious. When the shift register bit is low, the diode pulls the 
      connection to the    "E" pin low. When the shift register bit is high, the 
      diode will not cause any    current flow from the connection at the "E" 
      pin to the shift register. The    resistor from "Data" to the "E" pin is a 
      current limiting resistor.    When the shift register bit is low and the 
      data bit is high, then the current through the    resistor will be limited 
      to 5 mA (for a 5 Volt logic application). At the "Data"    side of the 
      resistor, the voltage will still be high, even though the diode is pulling 
      the    "E" pin low. </P>
      <P>When both the "Data" line and the shift register bit are high, the    
      "E" pin will be high. The "AND" circuit could be a TTL two input AND    
      gate (such as a 7408), if you have an extra one available for your 
      application. When I    originally created this circuit, I used the same 
      two transistor and two resistor circuit    that I used for the 89C2051 
      emulator in "Programming and Customizing the 8051    Microcontroller". I 
      saw this "AND" equivalent circuit in an old copy of    "Electronics Now" 
      and found that it worked well in this application. </P>
      <P>To load the shift register, it first has to be cleared to ensure that 
      the "E"    will not be strobed to the LCD inadvertently. This is done by 
      first shifting in six    "0"s to make sure that while the correct data is 
      being loaded into the shift    register, no "high" voltage level is passed 
      to the "E" pin of the LCD.     </P>
      <P>Once this is done, the data can be shifted in. The diagram below shows 
      how the shift    register is initially cleared and then loaded with the 
      data to be strobed (using    "E") into the LCD:</P>
      <P align="center"><IMG width="470" height="317" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/2wirewf.jpg" 
      border="0"></P>
      <P>The application code, "<A href="https://web.archive.org/web/20130602003223/http://www.rentron.com/Files/2wirelcd.asm">2wirelcd.asm</A>" 
      is an assembler source file written for    the PIC16C84. The file is 
      written to be used with the "MPASM" assembler built    into Microchip's 
      "MPLAB". I wrote the code with the idea that it should be    easily 
      portable to any low-end or mid-range PICMicro without modification. </P>
      <P>For the two I/O pins ("Data" and "Clock"), I "defined"    them to allow 
      you to use virtually any pins in your PICMicro application. I say    
      "virtually any" because PORTA pin 4 (also known as "RA4") is of    "open 
      drain" configuration and cannot source a positive voltage. The code itself 
         is a very straightforward example of writing a 4-bit LCD application 
      which displays the    string "Hello" on the LCD display. The important 
      difference between this code    and a straight 4-bit LCD output is the 
      "NybbleOut" subroutine, which is called    twice by each of the "SendCHAR" 
      and "SendINS" subroutines (which send    characters and instructions, 
      respectively, to the LCD).</P>
      <P>"NybbleOut" first drops the "Data" line and then strobes the    "Clock" 
      bit six times to clear the shift register. Next, a "1" is    strobed in, 
      followed by the "R/S" pin value, which is stored in the PICMicro's    
      "Carry" flag. I used Carry for this purpose because in this application I 
      used    RA0 and RA1 as the output pins and to simplify the operation of 
      the code, I shift PORTA    with Carry loaded with the "Data" Pin 
Value.</P>
      <P>If this is not possible in your application, then "NybbleOut" should be 
         changed to the following code. I have marked changed lines with "####' 
      in comments. </P></FONT>
      <P><FONT size="2"><FONT 
      face="Andale Mono">NybbleOut2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
         ; Send a Nybble to the LCD<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      movwf&nbsp;&nbsp;&nbsp;&nbsp; NOTemp&nbsp;&nbsp;&nbsp; ;    Save the 
      Nybble to Shift Out<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      swapf&nbsp;&nbsp;&nbsp;&nbsp; NOTemp&nbsp;&nbsp;&nbsp; ;    Setup to 
      Output to the High Part of the Byte<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      movlw&nbsp;&nbsp;&nbsp;&nbsp; 6    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; Clear the Shift 
      Register<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      movwf&nbsp;&nbsp;&nbsp;&nbsp; Dlay</FONT></FONT></P><FONT size="2">
      <P><FONT face="Andale Mono">NO2Loop1<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      ClockStrobe<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; decfsz&nbsp;&nbsp;&nbsp; 
      Dlay<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      goto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NO2Loop1<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; movlw&nbsp;&nbsp;&nbsp;&nbsp; 5    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; #### - Now, Shift out 
      the Data with the    "RS" Bit<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      movwf&nbsp;&nbsp;&nbsp;&nbsp; Dlay<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      bsf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Data    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; Put out the Gate Bit<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ClockStrobe</FONT></P></FONT>
      <P><FONT size="2"><FONT face="Andale Mono">&nbsp;NO2Loop2<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bcf&nbsp; 
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; #### - Clear the Data Bit (which is 
      the Clock)<BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      btfsc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STATUS, C&nbsp;&nbsp;;    #### - If the 
      Bit to be output is a "1", Shift it Out<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bsf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      Data    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
       <BR>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ClockStrobe<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rlf 
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTemp    &nbsp;&nbsp;&nbsp;&nbsp;; 
      #### - Shift the Next Bit into the Carry Flag<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; decfsz&nbsp;&nbsp;&nbsp; Dlay<BR>    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      goto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NO2Loop2 </FONT></FONT></P><FONT 
      size="2">
      <P><FONT face="Andale Mono">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EStrobe    
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
      Strobe out    the LCD Data</FONT></P></FONT>
      <P><FONT face="Andale Mono" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      return</FONT></P><FONT face="Arial" size="2">
      <P>The only point to notice with this code is that the    "E" strobe will 
      become active on the last bit if the least significant data bit    is 
      high. This lack of "settling time" before "E" is active does    violate 
      the "true" 44780 specification, but I haven't found it to be a problem    
      when I've built this circuit. </P></FONT>
      <P><FONT face="Arial" size="2">Good luck with building this circuit. If 
      you have any problems, please send me an email    and I'll see what I can 
      do to point out where the problem is. Click <A href="https://web.archive.org/web/20130602003223/http://www.rentron.com/Files/2wirelcd.asm">HERE</A> 
      to download the code for this project.</FONT></P>
      <P><FONT face="Arial" size="3"><STRONG>Myke</STRONG></FONT></P><FONT face="Arial" 
      size="2">
      <P><STRONG>Copyright and Warranty Statement</STRONG></P>
      <P>This article is presented on an "AS IS" basis. I have tested the 
      circuit and    code that I have presented here and I am confident that it 
      works on the hardware that I    have used. Different hardware may result 
      in different results. </P>
      <P align="center"><STRONG>The information contained here    cannot be 
      reproduced without the author's permission.</STRONG>     
      <P align="center"><STRONG>Program    the PIC in simple BASIC using the 
      PicBasic Compiler.&nbsp; Visit: <A href="https://web.archive.org/web/20130602003223/http://www.rentron.com/PicBasic2.htm">http://www.rentron.com/PicBasic2.htm</A></STRONG></P></FONT></FONT>
      <P align="center"><FONT face="Verdana"><FONT face="Arial" size="2">     
      <MAP name="FPMap4"><AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/BasicStamp.htm" 
        shape="rect" coords="7, 2, 95, 21">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/listinfoadd/signup.htm" 
        shape="rect" coords="7, 27, 94, 47">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/PicBasic2.htm" 
        shape="rect" coords="106, 2, 196, 21">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/Robo-Ware.htm" 
        shape="rect" coords="108, 28, 195, 48">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/8051.htm" 
        shape="rect" coords="206, 3, 294, 22">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/PicBasic/Rentron.htm" 
        shape="rect" coords="206, 29, 294, 48">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/remote.htm" 
        shape="rect" coords="303, 3, 397, 23">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/index.html" 
        shape="rect" coords="303, 27, 395, 47">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/pic.htm" 
        shape="rect" coords="405, 2, 494, 23">   <AREA href="https://web.archive.org/web/20130602003223/http://www.rentron.com/books.htm" 
        shape="rect" coords="407, 27, 492, 48"></MAP>         <IMG width="500" 
      height="49" src="2-Wire%20PIC%20LCD%20Interface%20by%20Myke%20Predko_files/rentron-buttons.gif" 
      border="0" 
usemap="#FPMap4"></FONT><!--mstheme--></FONT></P></TD></TR></TBODY></TABLE><!--mstheme--><FONT 
face="Verdana"> </FONT></DIV><FONT face="Verdana"><!--webbot bot="Navigation" S-Type="children" S-Orientation="horizontal" S-Rendering="graphics" B-Include-Home="TRUE" B-Include-Up="TRUE" U-Page S-Target startspan --><!--webbot bot="Navigation" i-checksum="0" endspan -->
<P></P>&nbsp;<!--mstheme--></FONT> </BODY></HTML><!--
     FILE ARCHIVED ON 0:32:23 Jun 2, 2013 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 10:28:50 Feb 10, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
