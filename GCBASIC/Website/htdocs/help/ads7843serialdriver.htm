<html><head>
   <title>ADS 7843 Serial Driver</title>
   <meta name="generator"  content="HelpMaker.net" >
   <meta name="keywords"  content="Keyad Overview," ></head>
<body bgcolor="FFFCEA" >
<table width="100%"  border="0"  cellspacing="0"  cellpadding="2"  bgcolor="C0C0C0" >
  <tr>
    <td align="left" >
      <div align="left" ><font face="Arial"  color="#010101"  size="4" ><span style="font-size:14pt" >ADS 7843 Serial Driver</span></font><font color="#010101" ></font></div>

    </td>
    <td align="right" >
      <font face="Arial"  size="2" >
        <a href="pset.htm">Previous</a>&nbsp;&nbsp;<a href="relevantconstantslcd.htm">Next</a>
      </font>
    </td>
  </tr></table>
<hr><div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Introduction</b></span></font><font color="#010101" ></font></div><div align="left" ><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The ADS7843 device is a 12-bit sampling Analog-to-Digital Converter 
(ADC) with a synchronous serial interface and low on resistance 
switches for driving touch screens. </span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The Great Cow Basic driver is integrated with the SDD1289 GLCD 
driver.&nbsp; </span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font color="#010101" ></font></div><p style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >To use the ADS7843 driver the following is required to added to the 
GCBASIC source file.</span></font><font color="#010101" ></font><br><p style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" ><b>#include &lt;ADS7843.h&gt;</b></span></font><font color="#010101" ></font><br><div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Relevant Constants:</b></span></font><font color="#010101" ></font></div><div align="left" ><br></div><font color="#010101" ><div align="left" ></font><font color="#010101" ></font></div><table border="1"  width="553"  cellpadding="3"  cellspacing="0"  style="border-collapse: collapse; border: none" >
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Constants</b></span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="195"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Controls/Direction</b></span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="130"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Default Value</b></span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_DOUT&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="195"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The chip output pin&nbsp; (IN)</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="130"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Must be set</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_IRQ&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="195"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The interrupt pin&nbsp; (IN)&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="130"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Must be set</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_CS&nbsp;&nbsp;&nbsp;&nbsp;(OUT)&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="195"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The chip select pin </span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="130"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Must be set</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_CLK</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="195"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The clock pin&nbsp; (OUT)&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="130"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Must be set</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_DIN</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="195"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The chip input pin (OUT)&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="130"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Must be set</span></font><font color="#010101" ></font></div>
    </td></tr></table><div align="left" ><br></div><font color="#010101" ><div align="left" ><br></font></div><font color="#010101" ><div align="left" ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" > The Great Cow Basic commands supported for this chip are:</span></font><font color="#010101" ></font></div><div align="left" ><font color="#010101" ></font></div><table border="1"  width="553"  cellpadding="3"  cellspacing="0"  style="border-collapse: collapse; border: none" >
    <tr>
    <td valign="top"  width="177"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Command</b></span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="105"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Purpose</b></span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="244"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Example</b></span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="177"  height="37"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_Init &nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="105"  height="37"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Initialise the 
    device</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="244"  height="37"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_Init [Optional precision 
    = PREC_EXTREME]</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="177"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_GetXY &nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="105"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Returns the X 
    and Y 
    coordinates of 
    touched 
    point&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="244"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_GetXY (TP_X, TP_Y )</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="177"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_SetPrecision</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="105"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Set the 
    precision of 
    the conversion 
    result</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="244"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >ADS7843_SetPrecision(precision)</span></font><font color="#010101" ></font></div>
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >(with PREC_EXTREME the 
    conversion error is less than 3%)</span></font><font color="#010101" ></font></div>
    <div align="left" ><font color="#010101" ></font></div>
    </td></tr></table><br><br><font color="#010101" ><br></font><br><font color="#010101" ><br></font><br><font color="#010101" ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Precision can be set to four values as shown in the table below:&nbsp; Passing a 
parameter of ADS7843_SetPrecision changes the precision controls.</span></font><font color="#010101" ></font><br><table border="1"  width="498"  cellpadding="3"  cellspacing="0"  style="border-collapse: collapse; border: none" >
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Constants</b></span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="123"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Defiined&nbsp; Value</b></span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="147"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Default Value</b></span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" >#define PREC_LOW</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="123"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" > 1</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="147"  style="border: solid #010101 1px;" >
    <div align="left" >&nbsp;<font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" >#define PREC_MEDIUM</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="123"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" > 2</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="147"  style="border: solid #010101 1px;" >
    <div align="left" >&nbsp;<font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" >#define PREC_HI</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="123"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" > 3</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="147"  style="border: solid #010101 1px;" >
    <div align="left" >&nbsp;<font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="201"  style="border: solid #010101 1px;" >
    <div align="left" ><br>
    </div>
    <font color="#010101" >
    <div align="left" ></font><font face="Courier New"  color="#010101" ><span style="font-size:12pt" >#define PREC_HI</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="123"  style="border: solid #010101 1px;" >
    <div align="left" ><br>
    </div>
    <font color="#010101" >
    <div align="left" ></font><font face="Courier New"  color="#010101" ><span style="font-size:12pt" > 4</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="147"  style="border: solid #010101 1px;" >
    <div align="left" ><font face="Courier New"  color="#010101" ><span style="font-size:12pt" > Default Value</span></font><font color="#010101" ></font></div>
    </td></tr></table><br><br><font color="#010101" ><br></font><br><font color="#010101" ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" >For more information see </span></font><a href="http://www.ti.com/product/ads7843"><font face="Arial"  color="#0000ff" ><span style="font-size:12pt" ><u>http://www.ti.com/product/ads7843</u></span></font></a><font color="#010101" ></font><br><font face="Arial"  color="#010101" ><span style="font-size:12pt" >This example shows how to drive a SDD1289 based Graphic LCD module 
with ADS7843 touch controller.</span></font><font color="#010101" ></font><br><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Example:</b></span></font><font color="#010101" ></font><br><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >'Chip Settings</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#chip mega2560, 16</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >'Include</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#include &lt;glcd.h&gt;</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#include&nbsp; &lt;ADS7843.h&gt;</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >'GLCD Device Selection</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_TYPE GLCD_TYPE_SSD1289</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_EXTENDEDFONTSET1</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >'Define ports for the SSD1289 display</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_WR&nbsp;&nbsp; PORTG.2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_CS&nbsp;&nbsp; PORTG.1</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_RS&nbsp;&nbsp; PORTD.7</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_RST&nbsp; PORTG.0</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB0&nbsp; PORTC.0</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB1&nbsp; PORTC.1</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB2&nbsp; PORTC.2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB3&nbsp; PORTC.3</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB4&nbsp; PORTC.4</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB5&nbsp; PORTC.5</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB6&nbsp; PORTC.6</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB7&nbsp; PORTC.7</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB8&nbsp; PORTA.0</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB9&nbsp; PORTA.1</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB10 PORTA.2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB11 PORTA.3</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB12 PORTA.4</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB13 PORTA.5</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB14 PORTA.6</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define GLCD_DB15 PORTA.7</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >'<b>Define ports for ADS7843</b></span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define ADS7843_DOUT&nbsp;&nbsp; PORTE.5&nbsp; ' Arduino Mega D3</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define ADS7843_IRQ&nbsp;&nbsp;&nbsp; PORTE.4&nbsp; ' Arduino Mega D2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define ADS7843_CS&nbsp;&nbsp;&nbsp;&nbsp; PORTE.3&nbsp; ' Arduino Mega D5</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define ADS7843_CLK&nbsp;&nbsp;&nbsp; PORTH.3&nbsp; ' Arduino Mega D6</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define ADS7843_DIN&nbsp;&nbsp;&nbsp; PORTG.5&nbsp; ' Arduino Mega D4</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >#define ADS7843_BUSY&nbsp;&nbsp; PORTH.4&nbsp; ' Arduino Mega D7</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></font></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >Wait 100 ms</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >num=0</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >Pset 1,&nbsp; 1, SSD1289_YELLOW</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >Do Forever</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp; if ADS7843_IRQ=0 then</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; num++</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; GLCDPrint&nbsp; 10, 15,&nbsp; str(num),SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; ADS7843_GetXY ( TP_X , TP_Y )</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; if TP_X&gt;=100 then GLCDPrint&nbsp; 100, 50, 
Str(TP_X),SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; if TP_X&gt;=10 and TP_X&lt;100 then GLCDPrint&nbsp; 100, 50, 
Str(TP_X)+&quot; &quot;,SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; if TP_X&lt;10 then GLCDPrint&nbsp; 100, 50,&nbsp; Str(TP_X)+&quot; 
&quot;,SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; if TP_Y&gt;=100 then GLCDPrint&nbsp; 100, 70, 
Str(TP_Y),SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; if TP_Y&gt;=10 and TP_Y&lt;100 then GLCDPrint&nbsp; 100, 70, 
Str(TP_Y)+&quot; &quot;, SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; if TP_Y&lt;10 then GLCDPrint&nbsp; 100, 70,&nbsp; Str(TP_Y)+&quot; 
&quot;,SSD1289_YELLOW, 2</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp; Pset TP_X,&nbsp; TP_Y, SSD1289_YELLOW</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp; end if</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >&nbsp; Wait 1 ms</span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Courier New"  color="#010101" ><span style="font-size:10pt" >Loop</span></font><font color="#010101" ></font></div><p style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br><br><font color="#010101" ><p style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font color="#010101" ></font><br><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font color="#010101" ></font></div>

</html>
