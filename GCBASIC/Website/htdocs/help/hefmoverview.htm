<html><head>
   <title>HEFM Overview</title>
   <meta name="generator"  content="HelpMaker.net" >
   <meta name="keywords"  content="," ></head>
<body bgcolor="FFFCEA" >
<table width="100%"  border="0"  cellspacing="0"  cellpadding="2"  bgcolor="C0C0C0" >
  <tr>
    <td align="left" >
      <div align="left" ><font face="Arial"  color="#010101"  size="4" ><span style="font-size:14pt" >HEFM Overview</span></font><font color="#010101" ></font></div>

    </td>
    <td align="right" >
      <font face="Arial"  size="2" >
        <a href="programread.htm">Previous</a>&nbsp;&nbsp;<a href="hefreadbyte.htm">Next</a>
      </font>
    </td>
  </tr></table>
<hr><font face="Arial" ><span style="font-size:12pt" ><b>Introduction:</b></span></font><font color="#010101" ></font><br><p align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >This section of the Help file assumes you have a release of Great Cow 
Basic June 2015 or later.</span></font><font color="#010101" ></font><br><p align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Several members of the Microchip family, including the PIC16F14xx, 
PIC16F15xx and PIC16F17xx have replaced the data EEPROM 
present on older models with a block of Flash memory that is designed 
to provide the same high endurance (100K erase/write cycles).</span></font><font color="#010101" ></font><br><p align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >This high endurance flash memory (HEFM) is a block of <b>128 locations</b> 
found at the top of the Flash program memory. <b>Each location can 
only be used to hold a byte variable</b> (whereas the standard Flash 
memory for a mid-range PIC MCU will typically hold 14 bits of 
information). </span></font><font color="#010101" ></font><br><p align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The main difference between EEPROM and HEFM is that the former 
does allow byte-by-byte erase whereas the latter does not. With HEFM 
data must be erased before a write and this can only be performed in 
blocks (also referred as rows) of a fixed size associated with the chip 
design.</span></font><font color="#010101" ></font><br><p align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >The heflash.h library uses as an input the following variables which 
are available from the chips *.dat files supporting HEFM. </span></font><font color="#010101" ></font><br><p align="justify" ><font color="#010101" ></font><br><table border="1"  bordercolor="#000000"  width="829"  cellpadding="3"  cellspacing="0"  style="border-collapse: collapse; border: none" >
    <tr>
    <td valign="top"  width="267"  height="16"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >HEFLASH_ROWSIZE</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="63"  height="16"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Byte</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="472"  height="16"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Size of an HEFM block in words</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="267"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >HEFLASH_START</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="63"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Word</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="472"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Starting address of HEFM</span></font><font color="#010101" ></font></div>
    </td></tr>
    <tr>
    <td valign="top"  width="267"  height="22"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >HEFLASH_END</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="63"  height="22"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Word</span></font><font color="#010101" ></font></div>
    </td>
    <td valign="top"  width="472"  height="22"  style="border: solid #000000 1px;" >
    <div align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Ending address of HEFM</span></font><font color="#010101" ></font></div>
    </td></tr></table><br><br><font color="#010101" ></font><font face="Arial" ><span style="font-size:12pt" ><b>Caution</b></span></font><font color="#010101" ></font><br><p align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:11pt" >Whenever you update the hex file of your PIC with your programmer you will 
erase the data that are stored in HEFM.&nbsp; If you want to avoid that you will 
have to flash your PIC with a software that allow memory exclusion when 
flashing. This is the case of Microchip MPLAB IPE (Go In Advanced 
Mode/Enter password/Select Memory/Tick &ldquo;Preserve Flash on 
Program&rdquo;/Enter Start and End address of your HEM).</span></font><font color="#010101" ></font><br><p align="justify" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Supported in &lt;HEFM.H&gt;</span></font><font color="#010101" ></font><br><div align="left" ><font color="#010101" ></font></div>

</html>
